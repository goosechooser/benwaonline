{% macro display_users(users) %}
    {% for user in users %}
    <tr>
        <td><a href="{{ url_for('userinfo.show_user', user_id=user.id) }}">{{ user.username }}</a></td>
        <td>{{ user.comments|length }}</td>
        <td>{{ user.posts|length }}</td>
        <td>no</td>
    </tr>
    {% endfor %}
{% endmacro %}

{% macro users_nav(users) %}
{% if users.has_prev %}<a href="{{ url_for('display_users', page=users.prev_num) }}">Next</a>
{% else %} Next {% endif %} |
{% if users.has_next %}<a href="{{ url_for('display_users', page=users.next_num) }}">Prev</a>
{% else %} Prev {% endif %}
{% endmacro %}

{% extends "layout.html" %}
<style>
.users { border-radius:8px; }
.users tr:last-child td{ border-bottom:0; }
.users td { padding:2px 10px; }
</style>
{% block body %}
<table class='users'>
    <thead>
        <tr>
            <td>Username</td>
            <td>Comments</td>
            <td>Posts</td>
            <td>Benwa?</td>
        </tr>
        {{ display_users(users) }}
    </thead>
</table>
<br>
{{ users_nav(users) }}

{% endblock %}